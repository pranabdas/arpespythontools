<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Pranab Das">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Rotate map data - ARPES Python tools</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Rotate map data";
    var mkdocs_page_input_path = "rotate.md";
    var mkdocs_page_url = "/rotate/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ARPES Python tools</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../gs/">Getting Started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../data-import/">Importing Data</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../image-plot/">Image Plot</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../k-conv/">k-space Conversion</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../line-profile/">Extracting Line Profile</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../plane-slice/">Slicing plane</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Rotate map data</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#rotate-fermi-map-data">Rotate Fermi map data</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../crop/">Crop Image (2D data)</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../igor-text/">Import/Export Igor text</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ARPES Python tools</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Rotate map data</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="http://pranabdas.github.io/"> Go to homepage</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="rotate-fermi-map-data">Rotate Fermi map data</h2>
<p>If your Fermi map measurement was not done keeping the high symmetry directions along the slit direction (or perpendicular to the slit direction), and you need to rotate the collected data in order to make the high symmetry directions along the x- or y-coordinate, the <strong>rotate</strong> function comes handy.</p>
<p>This function needs the map data (3-dimensional array with first dimension along the energy, second and third dimensions are kx and ky, respectively.). It also needs kx and ky vectors as input. Provide the required angle to rotate in degree. The function returns rotated data, and new KX and KY vectors. Let's see an example:</p>
<pre><code>import ARPES_Python_tools as arp
import matplotlib.pyplot as plt
%matplotlib inline

# Let's import our sample map data
[data, energy, theta, phi] = arp.load_ses_map('sample_map_data.zip')

# Plot one slice
plt.figure(figsize = (8, 6))
plt.imshow(data[150, :, :], origin = 'lower', aspect = 'auto',\
          extent = (phi[0], phi[-1], theta[0], theta[-1]))
plt.show()
</code></pre>
<p>This is how a constant energy cut looks like before rotation:<br />
<img alt="rotate-before" src="../img/rotate-before.png" /></p>
<p>Now, we can rotate the data. Note that rotating involves some heavy interpolation. So, this might take several tens of minutes to complete depending on the data size.</p>
<pre><code>data_r, theta_r, phi_r = arp.rotate(data, 45, theta, phi)

# Plot one slice
plt.figure(figsize = (8, 6))
plt.imshow(data_r[150, :, :], origin = 'lower', aspect = 'auto',\
          extent = (phi_r[0], phi_r[-1], theta_r[0], theta_r[-1]))
plt.show()
</code></pre>
<p>Let us plot a slice again. This is what we get after the rotation.
<img alt="rotate-after" src="../img/rotate-after.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../crop/" class="btn btn-neutral float-right" title="Crop Image (2D data)">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../plane-slice/" class="btn btn-neutral" title="Slicing plane"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Â© Copyright 2020 <a href="https://pranabdas.github.io">Pranab Das</a>. All rights reserved.</p>
    
  </div>

</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../plane-slice/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../crop/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
